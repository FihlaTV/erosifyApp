<ion-header-bar align-title="left">
    <a class="button button-icon icon ion-chevron-left" ng-click="$ionicGoBack()"></a>
    <div class="chat-title-top">
        <span>{{userInfo.name}}</span>
        <div class="row">
            <span>{{userInfo.status == 1 ? "Online now" : "Offline"}}</span>
            <div class="status-icon-sm" ng-class="userInfo.status ? 'online' : 'offline'"></div>
        </div>
    </div>
    <a class="button button-icon" ng-click="goToProfile(userInfo.id)" style="position: absolute;right: 0;line-height: 20px;">
        <img ng-src="{{userInfo.pictures[0]}}" class="user-pic-sm">
    </a>
</ion-header-bar>
<ion-content has-bouncing="true" class="gradient-bg" delegate-handle="userMessageScroll" style="bottom: 60px" id="chat-window">
    <div ng-repeat="msg in messages" ng-class="{other: msg.name != userInfo.name}" class="messages">
        <img class="profile-pic-chat" ng-src="{{userInfo.pictures[0]}}" ng-show="msg.name == userInfo.name">
        <div ng-class="msg.name == userInfo.name ? 'left-msg' : 'right-msg'" class="message" ng-hide="msg.name == 'Date Divider'">
            <span class="msg">
                {{ msg.content }}
                <br />
                <span class="sm-time-chat">{{ msg.time }}</span>
            </span>
        </div>
        <div ng-show="msg.name == 'Date Divider'" class="message">
            <span class="msg date-divider" style="color: white!important;padding: 2px 5px 0!important;background: rgba(0, 150, 136, 0.58)!important;">
                {{ msg.content }}
            </span>
        </div>
    </div>
</ion-content>

<ion-footer-bar class="footer-chat" keyboard-attach>
    <div class="chat-inputbox-container">
        <a class="button button-icon icon ion-android-happy"></a>
        <div class="test">
            <input type="text" class="chat-inputbox" autocomplete="off" placeholder="Type a message" ng-change="updateTyping()" ng-enter="sendMessage()" ng-model="chat.message" />
        </div>
        <a class="button button-icon icon ion-paper-airplane" ng-click="sendMessage()" ng-disabled="!chat.message"></a>
    </div>
</ion-footer-bar>
